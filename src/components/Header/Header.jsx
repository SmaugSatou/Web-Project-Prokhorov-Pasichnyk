import React, { useState } from 'react'
import { Link } from 'react-router-dom'
import BurgerMenu from '../BurgerMenu/BurgerMenu'
import SearchModal from '../SearchModal/SearchModal'
import './Header.css'

function Header() {
  const [menuOpen, setMenuOpen] = useState(false)
  const [searchOpen, setSearchOpen] = useState(false)

  return (
    <>
      <header className="header">
        <div className="header-container">
          <div className="header-left">
            <Link to="/" className="logo">
              <span className="logo-text">UU</span>
              <svg className="logo-svg" xmlns="http://www.w3.org/2000/svg" width="26" height="32" viewBox="0 0 26 32" fill="none">
                <path d="M3.6425 14.8133C3.54925 14.6766 3.4634 14.5351 3.38534 14.3893L3.19768 14.0348C3.08104 13.8089 2.97664 13.5769 2.88492 13.3398C2.6925 12.8642 2.53908 12.3737 2.4262 11.8733C2.19515 10.8425 2.14809 9.77892 2.28719 8.73172C2.60024 6.65893 3.61319 4.75568 5.15768 3.33827C6.57097 2.03121 8.26683 1.06792 10.1133 0.523392C11.9936 -0.0726461 13.9981 -0.161359 15.9237 0.266231C16.9914 0.515225 17.9937 0.989126 18.8637 1.6563C19.7639 2.35616 20.4796 3.26515 20.9488 4.30437C21.7114 6.15312 21.9261 8.18218 21.5674 10.1496C21.4301 11.0279 21.235 11.8963 20.9836 12.749C20.8511 13.224 20.6838 13.6886 20.4831 14.1391C20.2885 14.5839 20.08 14.9801 19.8646 15.3693C19.0155 16.8305 18.0559 18.2247 16.9941 19.5395C14.9546 22.1025 12.6991 24.486 10.2523 26.6636C8.97649 27.8078 7.59401 28.8272 6.12377 29.7078C5.69586 29.9585 5.2498 30.1769 4.78931 30.3611L4.40704 30.5071L3.96222 30.6322C3.84332 30.6664 3.72267 30.6942 3.6008 30.7156L3.27414 30.7851C3.04478 30.8268 2.84322 30.8685 2.50265 30.9033H2.3428H2.09258C1.9549 30.8969 1.81785 30.8807 1.68251 30.8546C1.35057 30.7735 1.04002 30.6218 0.772021 30.4098C0.48039 30.1734 0.258002 29.8626 0.128329 29.5103C-0.00134385 29.158 -0.0334882 28.7772 0.0352881 28.4081C0.50096 27.0736 0.514861 27.5393 0.619115 27.2891C0.722729 27.1849 0.836859 27.0917 0.95968 27.0111C1.02664 26.9653 1.09626 26.9235 1.16819 26.886C1.29216 26.8207 1.4198 26.7627 1.55046 26.7122L1.77287 26.6358C2.27329 26.4689 2.67641 26.3786 3.10038 26.2743C6.33986 25.5693 9.64768 25.2266 12.9629 25.2526C14.6223 25.2637 16.2795 25.3751 17.9254 25.5863C19.5935 25.7809 21.199 26.2396 22.9088 26.4342H22.9714C23.2837 26.4533 23.5889 26.5357 23.8683 26.6763C24.1478 26.8171 24.3958 27.0131 24.5971 27.2526C24.7985 27.4922 24.949 27.7701 25.0395 28.0696C25.1301 28.3692 25.1588 28.684 25.1238 28.9949C25.0889 29.3059 24.9911 29.6065 24.8364 29.8784C24.6817 30.1504 24.4733 30.3881 24.2238 30.577C23.9744 30.7659 23.6891 30.9021 23.3854 30.9773C23.0817 31.0525 22.7658 31.0651 22.457 31.0145C22.1713 30.9789 21.8938 30.8942 21.6369 30.7642C20.2929 30.1674 18.8566 29.8053 17.3902 29.6939C15.9124 29.5081 14.4246 29.413 12.9351 29.4089C9.94267 29.4016 6.95875 29.7279 4.03867 30.382C3.69811 30.4584 3.34364 30.5557 3.08648 30.6391H3.03783L3.14208 30.5835C3.19397 30.559 3.24293 30.5287 3.28804 30.4932C3.4016 30.4195 3.50651 30.3332 3.6008 30.236C3.69811 29.9997 3.69811 30.4654 4.15683 29.1448C4.2291 28.7848 4.20266 28.4119 4.0803 28.0656C3.95795 27.7193 3.74424 27.4126 3.4618 27.1779C3.20202 26.9725 2.89706 26.8319 2.57215 26.7678C2.46317 26.7398 2.35106 26.7258 2.23854 26.7261H2.09953L2.4957 26.6566L2.75286 26.608C2.82356 26.5942 2.89322 26.5756 2.96137 26.5524H3.08648L3.25329 26.4898C3.5252 26.3707 3.78774 26.2313 4.03867 26.0728C5.25696 25.3146 6.40178 24.4444 7.45823 23.4734C9.70463 21.4528 11.7741 19.2438 13.644 16.8706C14.5576 15.7315 15.3847 14.5258 16.1183 13.2633C16.2851 12.9645 16.438 12.6656 16.5632 12.3876C16.6839 12.1129 16.7838 11.8294 16.862 11.5397C17.0577 10.8791 17.2063 10.2056 17.3068 9.52406C17.5369 8.3807 17.4406 7.19567 17.0288 6.1045C16.8335 5.69068 16.5426 5.32926 16.1801 5.05009C15.8175 4.77092 15.3937 4.58201 14.9437 4.49898C12.8586 4.0055 9.91865 4.9299 8.25057 6.58407C7.44935 7.3118 6.92396 8.29383 6.7632 9.3642C6.69455 9.86406 6.71336 10.3721 6.8188 10.8655C6.88218 11.131 6.96583 11.3912 7.06901 11.6439C7.12462 11.769 7.18022 11.8941 7.24277 12.0123L7.32618 12.1791C7.32618 12.2208 7.40958 12.3111 7.38178 12.2625C7.72003 12.7574 7.84782 13.3665 7.73702 13.9556C7.62623 14.5448 7.28594 15.0658 6.791 15.404C6.29606 15.7423 5.68703 15.8701 5.09787 15.7593C4.50872 15.6485 3.98771 15.3082 3.64945 14.8133H3.6425Z" fill="#FBB03B"/>
              </svg>
            </Link>
            <nav className="header-nav">
              <Link to="/about" className="nav-link">Про проєкт</Link>
            </nav>
            <button
              className="search-button search-button-mobile"
              aria-label="Пошук"
              onClick={() => setSearchOpen(true)}
            >
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M17.5 17.5L13.875 13.875M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z" stroke="currentColor" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </button>
            <div className="search-input-container" onClick={() => setSearchOpen(true)}>
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M17.5 17.5L13.875 13.875M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z" stroke="currentColor" strokeWidth="1.66667" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
              <span className="search-placeholder">Пошук каналів...</span>
            </div>
          </div>
          <div className="header-right">
            <Link to="/profile" className="user-avatar">
              <div className="avatar-placeholder"></div>
            </Link>
            <button
              className="menu-button"
              aria-label="Меню"
              onClick={() => setMenuOpen(true)}
            >
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </header>

      <BurgerMenu isOpen={menuOpen} onClose={() => setMenuOpen(false)} />
      <SearchModal isOpen={searchOpen} onClose={() => setSearchOpen(false)} />
    </>
  )
}

export default Header
